{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function renderImages(images) {\n  const gallery = document.getElementById('gallery');\n  const markup = images.map(createImageCard).join('');\n  gallery.innerHTML = markup;\n  refreshLightbox();\n}\n\nfunction createImageCard(image) {\n  return `\n    <div class=\"photo-card\">\n      <a href=\"${image.largeImageURL}\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n      </a>\n      <div class=\"info\">\n        <p><b>Likes</b> ${image.likes}</p>\n        <p><b>Views</b> ${image.views}</p>\n        <p><b>Comments</b> ${image.comments}</p>\n        <p><b>Downloads</b> ${image.downloads}</p>\n      </div>\n    </div>\n  `;\n}\n\nexport function showError(message) {\n  iziToast.error({ title: 'Error', message });\n}\n\nexport function showLoader() {\n  const loader = document.createElement('div');\n  loader.className = 'loader';\n  document.body.appendChild(loader);\n}\n\nexport function hideLoader() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.remove();\n  }\n}\n\nfunction refreshLightbox() {\n  const lightbox = new SimpleLightbox('.photo-card a');\n  lightbox.refresh();\n}\n","const API_KEY = '44812074-4f691c7d06d5961145b89341f';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function fetchImages(query) {\n  return fetch(\n    `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(\n      query\n    )}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Failed to fetch images');\n      }\n      return response.json();\n    })\n    .then(data => data.hits);\n}\n","import { fetchImages } from './js/pixabay-api';\nimport {\n  renderImages,\n  showError,\n  showLoader,\n  hideLoader,\n} from './js/render-functions.js';\n\nconst form = document.getElementById('search-form');\nconst input = document.getElementById('search-input');\nconst gallery = document.getElementById('gallery');\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const query = input.value.trim();\n  if (!query) {\n    showError('Please enter a search term');\n    return;\n  }\n\n  gallery.innerHTML = '';\n  showLoader();\n\n  fetchImages(query)\n    .then(images => {\n      hideLoader();\n      if (images.length === 0) {\n        showError(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n      } else {\n        renderImages(images);\n      }\n    })\n    .catch(error => {\n      hideLoader();\n      showError('An error occurred while fetching images');\n    });\n});\n"],"names":["renderImages","images","gallery","markup","createImageCard","refreshLightbox","image","showError","message","iziToast","showLoader","loader","hideLoader","SimpleLightbox","API_KEY","BASE_URL","fetchImages","query","response","data","form","input","event","error"],"mappings":"6vBAKO,SAASA,EAAaC,EAAQ,CACnC,MAAMC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAASF,EAAO,IAAIG,CAAe,EAAE,KAAK,EAAE,EAClDF,EAAQ,UAAYC,EACpBE,GACF,CAEA,SAASD,EAAgBE,EAAO,CAC9B,MAAO;AAAA;AAAA,iBAEQA,EAAM,aAAa;AAAA,oBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,0BAGhCA,EAAM,KAAK;AAAA,0BACXA,EAAM,KAAK;AAAA,6BACRA,EAAM,QAAQ;AAAA,8BACbA,EAAM,SAAS;AAAA;AAAA;AAAA,GAI7C,CAEO,SAASC,EAAUC,EAAS,CACjCC,EAAS,MAAM,CAAE,MAAO,QAAS,QAAAD,CAAS,CAAA,CAC5C,CAEO,SAASE,GAAa,CAC3B,MAAMC,EAAS,SAAS,cAAc,KAAK,EAC3CA,EAAO,UAAY,SACnB,SAAS,KAAK,YAAYA,CAAM,CAClC,CAEO,SAASC,GAAa,CAC3B,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACFA,EAAO,OAAM,CAEjB,CAEA,SAASN,GAAkB,CACR,IAAIQ,EAAe,eAAe,EAC1C,QAAO,CAClB,CChDA,MAAMC,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAYC,EAAO,CACjC,OAAO,MACL,GAAGF,CAAQ,QAAQD,CAAO,MAAM,mBAC9BG,CACD,CAAA,0DACF,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,wBAAwB,EAE1C,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQA,EAAK,IAAI,CAC3B,CCRA,MAAMC,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAQ,SAAS,eAAe,cAAc,EAC9CnB,EAAU,SAAS,eAAe,SAAS,EAEjDkB,EAAK,iBAAiB,SAAUE,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAML,EAAQI,EAAM,MAAM,KAAI,EAC9B,GAAI,CAACJ,EAAO,CACVV,EAAU,4BAA4B,EACtC,MACD,CAEDL,EAAQ,UAAY,GACpBQ,IAEAM,EAAYC,CAAK,EACd,KAAKhB,GAAU,CACdW,IACIX,EAAO,SAAW,EACpBM,EACE,0EACV,EAEQP,EAAaC,CAAM,CAE3B,CAAK,EACA,MAAMsB,GAAS,CACdX,IACAL,EAAU,yCAAyC,CACzD,CAAK,CACL,CAAC"}